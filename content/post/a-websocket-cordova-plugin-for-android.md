+++
title = "A WebSocket Cordova plugin for Android"
date = 2012-07-06T17:14:00Z
updated = 2013-07-19T13:57:24Z
tags = ["Cordova", "PhoneGap", "WebSocket"]
blogimport = true 
[author]
	name = "Claude"
	uri = "https://www.blogger.com/profile/06379003436141860057"
+++

<span style="background-color: white;">This week I've investigated the feasibility of leveraging&nbsp;</span><a href="http://avalanche123.com/blog/2012/02/25/interacting-with-zeromq-from-the-browser/" style="background-color: white;" target="_blank">NullMQ</a><span style="background-color: white;">&nbsp;inside a Cordova/PhoneGap application on Android. NullMQ sends and receives messages via <a href="http://en.wikipedia.org/wiki/WebSocket" target="_blank">WebSocket</a>, and unfortunately, Android's browser doesn't support the standard yet.</span><span style="background-color: white;">&nbsp;</span><span style="background-color: white;">I found Cordova plugins on GitHub that implement WebSocket. The problem is that none of them functioned properly against the latest version of the WebSocket spec, that is, RFC 6455. So I decided to <a href="https://github.com/claudemamo/Java-WebSocket" target="_blank">fork the Java-WebSocket project</a> and expose it as a Cordova plugin. The cool thing about the&nbsp;</span><span style="background-color: white;"><a href="https://github.com/Davidiusdadi/Java-WebSocket" target="_blank">Java-WebSocket</a> project is that it supports,&nbsp;</span><span style="background-color: white;">in addition to RFC 6455,</span><span style="background-color: white;">&nbsp;earlier releases of the spec. Although, by default, the plugin is configured to use&nbsp;</span><span style="background-color: white;">RFC 6455.</span><br /><span style="background-color: white;"><br /></span><span style="background-color: white;">The plugin's API is identical to the WebSocket one so you don't need to re-learn a new API or change existing WebSocket calls. To install:</span><br /><ol><li>Include <a href="https://raw.github.com/claudemamo/Java-WebSocket/master/assets/www/websocket/websocket.js">websocket.js</a> in the your HTML file: <br /><br /><script src="https://gist.github.com/claudemamo/3060460.js?file=index.html"></script></li><li><span style="background-color: white;">From your console, enter 'mvn package' in the Java-WebSocket project root directory. Move the produced JAR to your Cordova application classpath.</span></li><br /><li><span style="background-color: white;">Add the following plugin entry to the plugins.xml file:</span><br /><br /><script src="https://gist.github.com/claudemamo/3060460.js?file=plugins.xml"></script></li></ol>
