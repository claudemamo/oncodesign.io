+++
title = "Demystifying Apache CXF: A RESTful Hello World App"
date = 2012-12-20T22:17:00Z
updated = 2013-02-05T19:46:14Z
tags = ["JAX-RS", "CXF", "How-to"]
blogimport = true 
[author]
	name = "Claude"
	uri = "https://www.blogger.com/profile/06379003436141860057"
+++

The <a href="http://opensourcesoftwareandme.blogspot.com/2012/12/demystifying-apache-cxf-hello-world-app.html#.UNNCD4njl7s" target="_blank">first post</a>&nbsp;of this&nbsp;how-to&nbsp;series showed you what it takes to expose a Hello World application as a SOAP over HTTP Web Service using CXF. For this post, I'll show you how to expose the same <a href="https://github.com/claudemamo/cxf-howto-2" target="_blank">app as a RESTful service</a>.<br /><br />In the Java world, we use JAX-RS for mapping a class to a RESTful service. Giving a RESTful interface to our Hello World app is just a matter of adding JAX-RS annotations to <i>HelloWorldImpl</i>:<br /><br /><script src="https://gist.github.com/claudemamo/4346702.js?file=HelloWorldImpl.java"></script>In the class, I tell the JAX-RS provider (i.e., CXF):<br /><ul><li><i>HelloWorldImpl</i> is a resource available on the URL relative path "/helloWorld" (<i>@Path("/helloWorld")</i>).</li></ul><ul><li>the HTTP reply sent back to the client should have the Content-Type set to "text/hml" (<span class="s1"><i>@Produces</i></span>).</li></ul><ul><li><i>sayHi</i> is to be called when the HTTP request is a GET and the relative path is "/helloWorld/sayHi/" + [variable] (<i><span class="s1">@Path<b>(</b></span>"sayHi/{text}"<span class="s1"><b>)</b></span></i>).</li></ul><ul><li>to bind the URL parameter with the method argument <i>text</i> (<i>@PathParam</i>).</li></ul><br />As in the previous how-to, I'm going to deploy the app onto an embedded Jetty server instead of deploying it onto a standalone web container:<br /><br /><script src="https://gist.github.com/claudemamo/4346702.js?file=Server.java"></script><i>RuntimeDelegate.getInstance().createEndpoint(...)</i> is a JAX-RS method that returns an unpublished endpoint. It takes in:<br /><ul><li>a class responsible for configuring and launching the web server. This class differs across JAX-RS providers. CXF expects this class to be&nbsp;<i>JAXRSServerFactoryBean</i>.</li></ul><ul><li>an object that extends <i>Application</i>. This user-defined class must return JAX-RS annotated classes responsible for processing client requests. For us, this means returning <i>HelloWorldImpl:</i></li></ul><div><br /><script src="https://gist.github.com/claudemamo/4346702.js?file=HelloWorldApp.java"></script>Back to our&nbsp;<i>Server.java</i>&nbsp;file, I tell the endpoint to bind&nbsp;the server to the URL <i>http://localhost:9000</i>. Then, from the endpoint, I create a <i>org.apache.cxf.endpoint.Server</i>&nbsp;object and invoke <i>start(...)</i> to publish the service. Note that, underneath,&nbsp;<i>org.apache.cxf.endpoint.Server</i>&nbsp;is a configured Jetty.&nbsp;</div><br />Before testing the service, I add the required CXF libraries to the Java classpath by declaring them as dependencies in project's POM :<br /><br /><script src="https://gist.github.com/claudemamo/4346702.js?file=pom.xml"></script>If you compare this POM with the <a href="https://gist.github.com/claudemamo/4306173#file-pom-xml" target="_blank">POM</a> of the first how-to, you'll note that now I've swapped the JAX-WS frontend with the JAX-RS one.<br /><br />All that is left is to run the server with the following Maven commands:<br /><br /><script src="https://gist.github.com/claudemamo/4346702.js?file=run.sh"></script>Once the server is up, accessing via your browser the URL <i><a href="http://localhost:9000/helloWorld/sayHi/Ricston">http://localhost:9000/helloWorld/sayHi/Ricston</a></i> should give you "Hello Ricston".
